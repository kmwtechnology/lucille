{
    "connectors": [
      {
        "name": "fileConnector",
        "class": "com.kmwllc.lucille.connector.FileConnector",
        "pipeline": "pipeline1",
        "getFileACLs": true,
        "pathToStorage": "${PATH_TO_STORAGE}",
        "cloudOptions": {
          "region": "${AWS_REGION}",
          "accessKeyId": "${AWS_ACCESS_KEY_ID}",
          "secretAccessKey": "${AWS_SECRET_ACCESS_KEY}"
        }
      }
    ],
    "pipelines": [
      {
        "name": "pipeline1",
        "stages": [
          {
            "name": "TextExtractor",
            "class": "com.kmwllc.lucille.tika.stage.TextExtractor",
            "byte_array_field": "file_content",
            "metadata_prefix": "",
            "metadata_blacklist": [],
            "tika_config_path": "conf/tika-config.xml"
          },
          {
            "name": "ChunkText",
            "class": "com.kmwllc.lucille.stage.ChunkText",
            "source": "text",
            "chunking_method": "paragraph"
          },
          {
            "name": "EmitNestedChildren",
            "class": "com.kmwllc.lucille.stage.EmitNestedChildren",
            "drop_parent": "false"
          },
          {
            "name": "DeleteFields",
            "class": "com.kmwllc.lucille.stage.DeleteFields",
            "fields": ["file_content", "_version"]
          },
          {
            "class": "com.kmwllc.lucille.stage.Print",
            "excludeFields": ["run_id"]
          }
        ]
      }
    ],
    "indexer": {
      "type": "OpenSearch",
      "batchTimeout": 1000,
      "batchSize": 100,
      "sendEnabled": true
    },
    "opensearch": {
      "url": "${INGEST_URL}",
      "index": "${INGEST_INDEX}",
      "acceptInvalidCert": true
    },
    "worker": {
      "pipeline": "pipeline1",
      "threads": 1
    }
  }
  